"use strict";(self.webpackChunklearning_notes=self.webpackChunklearning_notes||[]).push([[4319],{90557:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var s=t(85893),r=t(11151);const i={title:"Taobao HangZhou Interview Round 1",authors:"xiaohai",tags:["study","interview"]},o=void 0,l={permalink:"/blog/2024/02/28/taobao-interview-round-1",editUrl:"https://github.com/xiaohai-huang/learning-notes/tree/master/blog/2024/02-28-taobao-interview-round-1/index.mdx",source:"@site/blog/2024/02-28-taobao-interview-round-1/index.mdx",title:"Taobao HangZhou Interview Round 1",description:"1.  How do you decide when to run useLayoutEffect?",date:"2024-02-28T00:00:00.000Z",formattedDate:"28 February 2024",tags:[{label:"study",permalink:"/blog/tags/study"},{label:"interview",permalink:"/blog/tags/interview"}],readingTime:2.585,hasTruncateMarker:!0,authors:[{name:"Xiaohai Huang",title:"CS Student",url:"http://github.com/xiaohai-huang",imageURL:"https://github.com/xiaohai-huang.png",key:"xiaohai"}],frontMatter:{title:"Taobao HangZhou Interview Round 1",authors:"xiaohai",tags:["study","interview"]},unlisted:!1,nextItem:{title:"Perform In-Game Updates in Unity using HybridCLR and Addressables",permalink:"/blog/2023/03/25/unity-hot-update"}},a={authorsImageUrls:[void 0]},c=[];function d(e){const n=Object.assign({ol:"ol",li:"li",p:"p",code:"code",strong:"strong",ul:"ul",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",pre:"pre"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["How do you decide when to run ",(0,s.jsx)(n.code,{children:"useLayoutEffect"}),"?"]}),"\n",(0,s.jsxs)(n.p,{children:["Ans: ",(0,s.jsx)(n.code,{children:"useLayoutEffect"})," is a version of ",(0,s.jsx)(n.code,{children:"useEffect"})," that fires before the browser ",(0,s.jsx)(n.strong,{children:"repaints"})," the screen."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Measuring layout before the browser repaints the screen."}),"\n",(0,s.jsx)(n.li,{children:"Blocks the browser from repainting."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The execution order of ",(0,s.jsx)(n.code,{children:"useEffect"})," and ",(0,s.jsx)(n.code,{children:"useLayoutEffect"}),"."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"useEffect"}),(0,s.jsx)(n.th,{children:"useLayoutEffect"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Execution Timing"}),(0,s.jsx)(n.td,{children:"Runs after the render is committed to the screen. This means it runs after the browser has painted changes to the screen."}),(0,s.jsx)(n.td,{children:"Runs synchronously after all DOM mutations. This means it runs before the browser has a chance to paint, making it suitable for reading layout from the DOM and synchronously re-rendering."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Use Cases"}),(0,s.jsx)(n.td,{children:"Most side effects (data fetching, subscriptions)"}),(0,s.jsx)(n.td,{children:"DOM manipulation, measuring elements, critical layout updates"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Performance"}),(0,s.jsx)(n.td,{children:"Generally better performance due to async nature"}),(0,s.jsx)(n.td,{children:"Can impact performance if used excessively, as it blocks the browser from repainting"})]})]})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",metastring:"live",live:!0,children:'function Clock(props) {\n  const [a, setA] = useState(0);\n  useEffect(() => {\n    console.log("1");\n  }, []);\n  useEffect(() => {\n    console.log("2");\n  }, [a]);\n  useEffect(() => {\n    console.log("3");\n  }, []);\n  useEffect(() => {\n    console.log("4");\n  }, []);\n\n  useLayoutEffect(() => {\n    console.log("layoutEffect");\n  }, []);\n\n  return (\n    <pre>\n      {`\nlayoutEffect\n1\n2\n3\n4\n`}\n    </pre>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"function chaining"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// new Monkey('xiaohai').eat('apple').sleep(3).eat('banana').eat('rice').sleep(1).eat('orange')\n// My name is xiaohai\n// Eating apple\n// ...sleep for 3 seconds\n// Eating banana\n// Eating rice\n// ...sleep for 1 seconds\n// Eating orange\nclass Monkey {\n  constructor(name) {\n    this.name = name;\n    this.queue = [];\n    console.log(`My name is ${name}`);\n\n    // start all the tasks\n    setTimeout(() => {\n      this.#onComplete();\n    }, 0);\n  }\n\n  #onComplete = () => {\n    const task = this.queue.shift();\n    task && task();\n  };\n\n  #enqueue = (task) => {\n    this.queue.push(() => task(this.#onComplete));\n  };\n\n  sleep(seconds) {\n    this.#enqueue((next) => {\n      setTimeout(next, seconds * 1000);\n    });\n\n    return this;\n  }\n\n  eat(food) {\n    this.#enqueue((next) => {\n      console.log(`Eating ${food}`);\n      next();\n    });\n    return this;\n  }\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"HTTP 1 vs HTTP 2"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Protocol Version"})}),(0,s.jsx)(n.th,{children:"HTTP/1.1"}),(0,s.jsx)(n.th,{children:"HTTP/2"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Multiplexing"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Yes, multiple requests can be sent over a single connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Stream Prioritization"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Yes, allows the client to prioritize requests"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Header Compression"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Yes, using HPACK compression"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Server Push"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Yes, allows the server to send resources to the client proactively"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Binary Protocol"})}),(0,s.jsx)(n.td,{children:"Text-based"}),(0,s.jsx)(n.td,{children:"Binary, more efficient for parsing"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Connection Management"})}),(0,s.jsx)(n.td,{children:"Connection per request/response"}),(0,s.jsx)(n.td,{children:"Single connection for multiple requests/responses"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Performance"})}),(0,s.jsx)(n.td,{children:"Slower due to multiple connections and latency"}),(0,s.jsx)(n.td,{children:"Faster due to multiplexing, header compression, and binary protocol"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Security"})}),(0,s.jsx)(n.td,{children:"SSL/TLS for encryption"}),(0,s.jsx)(n.td,{children:"TLS 1.2 or higher required, with additional features like ALPN for protocol negotiation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Compatibility"})}),(0,s.jsx)(n.td,{children:"Widely supported, but requires separate connections for each request"}),(0,s.jsx)(n.td,{children:"Requires HTTPS and modern browsers/servers"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Use Cases"})}),(0,s.jsx)(n.td,{children:"Ideal for simple, stateless requests"}),(0,s.jsx)(n.td,{children:"Ideal for complex, stateful applications with many small requests"})]})]})]}),"\n"]}),"\n"]})]})}const h=function(e={}){const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(d,e)})):d(e)}},11151:(e,n,t)=>{t.d(n,{Zo:()=>l,ah:()=>i});var s=t(67294);const r=s.createContext({});function i(e){const n=s.useContext(r);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const o={};function l({components:e,children:n,disableParentContext:t}){let l;return l=t?"function"==typeof e?e({}):e||o:i(e),s.createElement(r.Provider,{value:l},n)}}}]);