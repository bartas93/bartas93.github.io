(self.webpackChunklearning_notes=self.webpackChunklearning_notes||[]).push([[4091],{88306:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>p,default:()=>j,frontMatter:()=>h,metadata:()=>u,toc:()=>v});var s=t(85893),a=t(11151),o=t(61830);const r="function sayAge() {\n  var age = 666;\n  console.log(age);\n}\nsayAge();\nconsole.log(age);",i="var age = 10;\nvar age = 20; // re-declare 'age'\nconsole.log(age);\n\n// update 'age'\nage = 30;\nconsole.log(age);",l='var studentName = "Frank";\nconsole.log(studentName);\n// Frank\n\nvar studentName;\nconsole.log(studentName); // ???',c="console.log(a);\nif (a) {\n  var a = 1;\n  console.log(a);\n}\n\nfunction a() {\n  console.log(this);\n}\n\nconsole.log(a);\n\na();",d='"use strict";\nvar b = 2;\nif (true) {\n  let a = 2;\n  var b = 3;\n  var c = 4;\n  const d = 5;\n}\n\n// console.log(a); ReferenceError: a is not defined\nconsole.log(b);\nconsole.log(c);\nconsole.log(d);\nvar d = 6;',h={sidebar_label:"\ud83d\udcdf var - let - const",title:"\ud83d\udcdf Variable Declaration"},p=void 0,u={id:"Web/JavaScript/varible-declaration",title:"\ud83d\udcdf Variable Declaration",description:"Useful resources:",source:"@site/docs/Web/JavaScript/03-varible-declaration.mdx",sourceDirName:"Web/JavaScript",slug:"/Web/JavaScript/varible-declaration",permalink:"/docs/Web/JavaScript/varible-declaration",draft:!1,unlisted:!1,editUrl:"https://github.com/xiaohai-huang/learning-notes/tree/master/docs/Web/JavaScript/03-varible-declaration.mdx",tags:[],version:"current",lastUpdatedBy:"xiaohai-huang",lastUpdatedAt:1670211020,formattedLastUpdatedAt:"05 Dec 2022",sidebarPosition:3,frontMatter:{sidebar_label:"\ud83d\udcdf var - let - const",title:"\ud83d\udcdf Variable Declaration"},sidebar:"notesSidebar",previous:{title:"\ud83d\udef8 Shadowing",permalink:"/docs/Web/JavaScript/shadowing"},next:{title:"\ud83e\uddec Prototype",permalink:"/docs/Web/JavaScript/prototype"}},g={},v=[{value:"<code>var</code>",id:"var",level:2},{value:"Scope of <code>var</code>",id:"scope-of-var",level:3},{value:"Global Scope",id:"global-scope",level:4},{value:"Function Scope",id:"function-scope",level:4},{value:"Re-declared and Updated",id:"re-declared-and-updated",level:4},{value:"Hoisting of <code>var</code>",id:"hoisting-of-var",level:3},{value:"Questions",id:"questions",level:2}];function m(e){const n=Object.assign({p:"p",ul:"ul",li:"li",a:"a",h2:"h2",code:"code",h3:"h3",strong:"strong",h4:"h4",pre:"pre",admonition:"admonition",ol:"ol",hr:"hr"},(0,a.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Useful resources:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.freecodecamp.org/news/var-let-and-const-whats-the-difference/",children:"Var, Let, and Const \u2013 What's the Difference?"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://exploringjs.com/es6/ch_variables.html#sec_overview-variables",children:"Variables and scoping"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"var",children:(0,s.jsx)(n.code,{children:"var"})}),"\n",(0,s.jsxs)(n.h3,{id:"scope-of-var",children:["Scope of ",(0,s.jsx)(n.code,{children:"var"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"var"})," declarations are ",(0,s.jsx)(n.strong,{children:"global"})," or ",(0,s.jsx)(n.strong,{children:"function"})," scope."]}),"\n",(0,s.jsx)(n.h4,{id:"global-scope",children:"Global Scope"}),"\n",(0,s.jsxs)(n.p,{children:["The scope is global when ",(0,s.jsx)(n.code,{children:"var"})," variable is declared outside of a function."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:'title="Global Scope"',children:'var myVar = "Global Variable";\nconsole.log(myVar); // Global Variable\nconsole.log(window.myVar); // Global Variable\n'})}),"\n",(0,s.jsx)(n.h4,{id:"function-scope",children:"Function Scope"}),"\n",(0,s.jsxs)(n.p,{children:["The scope is function scope when ",(0,s.jsx)(n.code,{children:"var"})," variable is declared inside a function. This means that it is only available within that function."]}),"\n",(0,s.jsx)(o.Z,{title:"Function Scope",children:r}),"\n",(0,s.jsx)(n.h4,{id:"re-declared-and-updated",children:"Re-declared and Updated"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch5.md#re-declaration",children:"Re-declaration?"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"var"})," variable can be re-declared and updated"]}),"\n",(0,s.jsx)(o.Z,{children:i}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["A repeated ",(0,s.jsx)(n.code,{children:"var"})," declaration of the same identifier name in a scope is effectively a do-nothing operation."]})}),"\n",(0,s.jsx)(o.Z,{title:"repeated var",children:l}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title=\"After 'pre-process' repeated var\"",children:'var studentName;\nvar studentName; // pointless, no-op\n\nstudentName = "Frank";\nconsole.log(studentName);\n// Frank\n\nconsole.log(studentName); // Frank\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"hoisting-of-var",children:["Hoisting of ",(0,s.jsx)(n.code,{children:"var"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch5.md#hoisting-yet-another-metaphor",children:"Hoisting: Yet Another Metaphor"})}),"\n",(0,s.jsxs)(n.p,{children:["It is useful to think of hoisting as a series of actions JS takes in setting up the program ",(0,s.jsx)(n.strong,{children:"before execution"}),"."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The identifier is hoisted to the top of the scope"}),"\n",(0,s.jsxs)(n.li,{children:["It's automatically initialized to the value ",(0,s.jsx)(n.code,{children:"undefined"}),". So that the variable can be used throughout the entire scope."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title=\"Before 'pre-process'\"",children:"age = 20;\nconsole.log(age);\n// 20\nvar age = 30;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title=\"After 'pre-process'\" {3}",children:"var age; // hoisted declaration\n\nage = 20;\nconsole.log(age);\nage = 30;\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsxs)(n.p,{children:["However, ",(0,s.jsx)(n.code,{children:"function"})," declarations are entirely hoisted to the top of each scope. And they are hoisted first, then variables are hoisted immediately after all the functions."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title=\"Before 'pre-process'\"",children:"age = 20;\nsayAge(); // age is 20\n\nfunction sayAge() {\n  console.log(`age is ${age}`);\n}\nvar age;\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title=\"After 'pre-process'\"",children:"function sayAge() {\n  console.log(`age is ${age}`);\n}\nvar age;\n\nage = 20;\nsayAge(); // age is 20\n"})})]}),"\n",(0,s.jsx)(n.h2,{id:"questions",children:"Questions"}),"\n",(0,s.jsx)(o.Z,{title:"Functions are hoisted entirely",children:c}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(o.Z,{title:"hoisting",children:d})]})}const j=function(e={}){const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(m,e)})):m(e)}},91262:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});t(67294);var s=t(72389),a=t(85893);function o(e){let{children:n,fallback:t}=e;return(0,s.Z)()?(0,a.jsx)(a.Fragment,{children:n?.()}):t??null}},61830:(e,n,t)=>{"use strict";t.d(n,{Z:()=>w});var s=t(67294),a=t(91262),o=t(10412),r=t(40460),i=t.n(r),l=t(70631),c=t.n(l),d=t(87410),h=t(71418),p=t(86010);const u=/\r\n|\r|\n/,g=e=>{0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},v=(e,n)=>{const t=e.length;return t>0&&e[t-1]===n?e:e.concat(n)},m=e=>{const n=[[]],t=[e],s=[0],a=[e.length];let o=0,r=0,i=[];const l=[i];for(;r>-1;){for(;(o=s[r]++)<a[r];){let e,c=n[r];const d=t[r][o];if("string"==typeof d?(c=r>0?c:["plain"],e=d):(c=v(c,d.type),d.alias&&(c=v(c,d.alias)),e=d.content),"string"!=typeof e){r++,n.push(c),t.push(e),s.push(0),a.push(e.length);continue}const h=e.split(u),p=h.length;i.push({types:c,content:h[0]});for(let n=1;n<p;n++)g(i),l.push(i=[]),i.push({types:c,content:h[n]})}r--,n.pop(),t.pop(),s.pop(),a.pop()}return g(i),l},j=(e,n)=>{const{plain:t}=e,s=e.styles.reduce(((e,t)=>{const{languages:s,style:a}=t;return s&&!s.includes(n)||t.types.forEach((n=>{const t={...e[n],...a};e[n]=t})),e}),{});return s.root=t,s.plain={...t,backgroundColor:void 0},s};var f=t(85893);const x=j(h.Z,"javascript");o.Z.canUseDOM&&((void 0!==t.g?t.g:window).Prism=d.Z);const b=e=>{let n="";return e.forEach(((e,t)=>{let s=e;e!==window&&(s=c()(e)),n+=`${t+1}:  ${s}\n`})),n},y=e=>{let{key:n,className:t,style:s,line:a,...o}=e;const r={...o,className:"token-line",style:void 0,key:void 0};return void 0!==x&&(r.style=x.plain),void 0!==s&&(r.style=void 0!==r.style?{...r.style,...s}:s),void 0!==n&&(r.key=n),t&&(r.className+=` ${t}`),r},k=e=>{let{types:n,empty:t}=e;const s=n.length;if(void 0===x)return;if(1===s&&"plain"===n[0])return t?{display:"inline-block"}:void 0;if(1===s&&!t)return x[n[0]];const a=t?{display:"inline-block"}:{},o=n.map((e=>x[e]));return Object.assign(a,...o)},N=e=>{let{key:n,className:t,style:s,token:a,...o}=e;const r={...o,className:`token ${a.types.join(" ")}`,children:a.content,style:k(a),key:void 0};return void 0!==s&&(r.style=void 0!==r.style?{...r.style,...s}:s),void 0!==n&&(r.key=n),t&&(r.className+=` ${t}`),r};function w(e){let{children:n="",title:t="",run:o=!0}=e;const[r,l]=(0,s.useState)(n),[c,u]=(0,s.useState)(""),g=()=>{u("");const e=`\n    const __results=[];\n        \n    try{\n      (()=>{\n        ${r}\n      })();\n    }catch(err){\n      return {results: __results, err};\n    }\n      \n    return {results: __results};`.replaceAll("console.log","__results.push");console.log(`var output =  (()=>{\n      ${e}\n    })() `);try{const{results:n,err:t}=new Function(e)();u(b(t?[...n,t]:n))}catch(n){u(b([n]))}};return(0,s.useEffect)((()=>{o&&g()}),[o]),(0,f.jsxs)("section",{className:"js-live-editor margin-bottom--md",children:[(0,f.jsx)("i",{children:t}),(0,f.jsx)("div",{className:"shadow--md thin-scrollbar",children:(0,f.jsx)(i(),{className:"editor",textareaClassName:"codeArea",style:h.Z.plain,padding:10,value:r,onValueChange:e=>l(e),highlight:e=>m(d.Z.tokenize(e,d.Z.languages.javascript,"javascript")).map(((e,n)=>(0,f.jsxs)("div",{...y({line:e}),children:[(0,f.jsx)("span",{className:"editorLineNumber",children:n+1}),e.map(((e,n)=>(0,f.jsx)("span",{...N({token:e})},n)))]},n)))})}),(0,f.jsx)("button",{className:"button button--primary margin-top--md margin-right--xs",onClick:g,children:"Run"}),(0,f.jsx)("button",{className:"button button--secondary margin-top--md",onClick:()=>{l(n),u("")},children:"Reset"}),(0,f.jsx)("div",{className:(0,p.Z)("outputArea","shadow--md","margin-top--md","padding--sm"),children:(0,f.jsx)(a.Z,{fallback:(0,f.jsx)(f.Fragment,{children:" "}),children:()=>(0,f.jsx)(f.Fragment,{children:""===c?" ":c})})})]})}},24654:()=>{},11151:(e,n,t)=>{"use strict";t.d(n,{Zo:()=>i,ah:()=>o});var s=t(67294);const a=s.createContext({});function o(e){const n=s.useContext(a);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const r={};function i({components:e,children:n,disableParentContext:t}){let i;return i=t?"function"==typeof e?e({}):e||r:o(e),s.createElement(a.Provider,{value:i},n)}}}]);