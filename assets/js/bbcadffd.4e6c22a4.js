(self.webpackChunklearning_notes=self.webpackChunklearning_notes||[]).push([[7630],{10961:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>d,default:()=>y,frontMatter:()=>c,metadata:()=>h,toc:()=>p});var s=t(85893),i=t(11151),o=t(61830);const a='const city = "Quanzhou";\n\nfunction printCity(city) {\n  city = city.toUpperCase();\n  console.log(city);\n}\n\nprintCity("Shenzhen");\n\nprintCity(city);\n\nconsole.log(city);',r='function sayCity() {\n  {\n    let city = "Quanzhou";\n    {\n      var city = "Shenzhen";\n      console.log(city);\n    }\n    console.log(city);\n  }\n  // var is function-scoped, so city would be accessible here\n  // if it didn\'t throw a SyntaxError\n  console.log(city);\n}\nsayCity()',l="function getTodos() {\n  {\n    let userId = 1;\n\n    (() => {\n      var userId = 7;\n      console.log(userId);\n    })();\n    console.log(userId);\n  }\n}\n\ngetTodos();",c={sidebar_label:"\ud83d\udef8 Shadowing",title:"\ud83d\udef8 Shadowing"},d=void 0,h={id:"Web/JavaScript/shadowing",title:"\ud83d\udef8 Shadowing",description:"Useful resources:",source:"@site/docs/Web/JavaScript/02-shadowing.mdx",sourceDirName:"Web/JavaScript",slug:"/Web/JavaScript/shadowing",permalink:"/docs/Web/JavaScript/shadowing",draft:!1,unlisted:!1,editUrl:"https://github.com/xiaohai-huang/learning-notes/tree/master/docs/Web/JavaScript/02-shadowing.mdx",tags:[],version:"current",lastUpdatedBy:"xiaohai-huang",lastUpdatedAt:1670207340,formattedLastUpdatedAt:"05 Dec 2022",sidebarPosition:2,frontMatter:{sidebar_label:"\ud83d\udef8 Shadowing",title:"\ud83d\udef8 Shadowing"},sidebar:"notesSidebar",previous:{title:"\u261d this keyword",permalink:"/docs/Web/JavaScript/this"},next:{title:"\ud83d\udcdf var - let - const",permalink:"/docs/Web/JavaScript/varible-declaration"}},u={},p=[{value:"What is shadowing ?",id:"what-is-shadowing-",level:2},{value:"Illegal Shadowing",id:"illegal-shadowing",level:2}];function g(e){const n=Object.assign({p:"p",ul:"ul",li:"li",a:"a",h2:"h2",code:"code",strong:"strong"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Useful resources:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch3.md#shadowing",children:"You Don't Know JS Yet: Scope & Closures - 2nd Edition - Chapter 3: The Scope Chain"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"what-is-shadowing-",children:"What is shadowing ?"}),"\n",(0,s.jsx)(n.p,{children:"When you have two or more variables, each in different scope, with the same lexical names."}),"\n",(0,s.jsx)(o.Z,{run:!1,children:a}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"city"})," variable (parameter) at line 3 shadows the variable ",(0,s.jsx)(n.code,{children:"city"})," at line 1. That's why re-assignment of ",(0,s.jsx)(n.code,{children:"city"})," at line 4 only affects the ",(0,s.jsx)(n.strong,{children:"inner variable"}),", not the outer one."]}),"\n",(0,s.jsx)(n.h2,{id:"illegal-shadowing",children:"Illegal Shadowing"}),"\n",(0,s.jsxs)(n.p,{children:["Not all combinations of declaration shadowing are allowed. ",(0,s.jsx)(n.code,{children:"let"})," can shadow ",(0,s.jsx)(n.code,{children:"var"}),", but ",(0,s.jsx)(n.code,{children:"var"})," cannot shadow ",(0,s.jsx)(n.code,{children:"let"})]}),"\n",(0,s.jsx)(o.Z,{children:r}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"var"})," at line 4 is trying to '",(0,s.jsx)(n.strong,{children:"cross the boundary"}),"' of ",(0,s.jsx)(n.code,{children:"let"})," declaration."]}),"\n",(0,s.jsx)(o.Z,{title:"valid. if there is a function boundary in between",children:l})]})}const y=function(e={}){const{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(g,e)})):g(e)}},91262:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});t(67294);var s=t(72389),i=t(85893);function o(e){let{children:n,fallback:t}=e;return(0,s.Z)()?(0,i.jsx)(i.Fragment,{children:n?.()}):t??null}},61830:(e,n,t)=>{"use strict";t.d(n,{Z:()=>S});var s=t(67294),i=t(91262),o=t(10412),a=t(40460),r=t.n(a),l=t(70631),c=t.n(l),d=t(87410),h=t(71418),u=t(86010);const p=/\r\n|\r|\n/,g=e=>{0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},y=(e,n)=>{const t=e.length;return t>0&&e[t-1]===n?e:e.concat(n)},m=e=>{const n=[[]],t=[e],s=[0],i=[e.length];let o=0,a=0,r=[];const l=[r];for(;a>-1;){for(;(o=s[a]++)<i[a];){let e,c=n[a];const d=t[a][o];if("string"==typeof d?(c=a>0?c:["plain"],e=d):(c=y(c,d.type),d.alias&&(c=y(c,d.alias)),e=d.content),"string"!=typeof e){a++,n.push(c),t.push(e),s.push(0),i.push(e.length);continue}const h=e.split(p),u=h.length;r.push({types:c,content:h[0]});for(let n=1;n<u;n++)g(r),l.push(r=[]),r.push({types:c,content:h[n]})}a--,n.pop(),t.pop(),s.pop(),i.pop()}return g(r),l},v=(e,n)=>{const{plain:t}=e,s=e.styles.reduce(((e,t)=>{const{languages:s,style:i}=t;return s&&!s.includes(n)||t.types.forEach((n=>{const t={...e[n],...i};e[n]=t})),e}),{});return s.root=t,s.plain={...t,backgroundColor:void 0},s};var x=t(85893);const b=v(h.Z,"javascript");o.Z.canUseDOM&&((void 0!==t.g?t.g:window).Prism=d.Z);const f=e=>{let n="";return e.forEach(((e,t)=>{let s=e;e!==window&&(s=c()(e)),n+=`${t+1}:  ${s}\n`})),n},j=e=>{let{key:n,className:t,style:s,line:i,...o}=e;const a={...o,className:"token-line",style:void 0,key:void 0};return void 0!==b&&(a.style=b.plain),void 0!==s&&(a.style=void 0!==a.style?{...a.style,...s}:s),void 0!==n&&(a.key=n),t&&(a.className+=` ${t}`),a},w=e=>{let{types:n,empty:t}=e;const s=n.length;if(void 0===b)return;if(1===s&&"plain"===n[0])return t?{display:"inline-block"}:void 0;if(1===s&&!t)return b[n[0]];const i=t?{display:"inline-block"}:{},o=n.map((e=>b[e]));return Object.assign(i,...o)},k=e=>{let{key:n,className:t,style:s,token:i,...o}=e;const a={...o,className:`token ${i.types.join(" ")}`,children:i.content,style:w(i),key:void 0};return void 0!==s&&(a.style=void 0!==a.style?{...a.style,...s}:s),void 0!==n&&(a.key=n),t&&(a.className+=` ${t}`),a};function S(e){let{children:n="",title:t="",run:o=!0}=e;const[a,l]=(0,s.useState)(n),[c,p]=(0,s.useState)(""),g=()=>{p("");const e=`\n    const __results=[];\n        \n    try{\n      (()=>{\n        ${a}\n      })();\n    }catch(err){\n      return {results: __results, err};\n    }\n      \n    return {results: __results};`.replaceAll("console.log","__results.push");console.log(`var output =  (()=>{\n      ${e}\n    })() `);try{const{results:n,err:t}=new Function(e)();p(f(t?[...n,t]:n))}catch(n){p(f([n]))}};return(0,s.useEffect)((()=>{o&&g()}),[o]),(0,x.jsxs)("section",{className:"js-live-editor margin-bottom--md",children:[(0,x.jsx)("i",{children:t}),(0,x.jsx)("div",{className:"shadow--md thin-scrollbar",children:(0,x.jsx)(r(),{className:"editor",textareaClassName:"codeArea",style:h.Z.plain,padding:10,value:a,onValueChange:e=>l(e),highlight:e=>m(d.Z.tokenize(e,d.Z.languages.javascript,"javascript")).map(((e,n)=>(0,x.jsxs)("div",{...j({line:e}),children:[(0,x.jsx)("span",{className:"editorLineNumber",children:n+1}),e.map(((e,n)=>(0,x.jsx)("span",{...k({token:e})},n)))]},n)))})}),(0,x.jsx)("button",{className:"button button--primary margin-top--md margin-right--xs",onClick:g,children:"Run"}),(0,x.jsx)("button",{className:"button button--secondary margin-top--md",onClick:()=>{l(n),p("")},children:"Reset"}),(0,x.jsx)("div",{className:(0,u.Z)("outputArea","shadow--md","margin-top--md","padding--sm"),children:(0,x.jsx)(i.Z,{fallback:(0,x.jsx)(x.Fragment,{children:" "}),children:()=>(0,x.jsx)(x.Fragment,{children:""===c?" ":c})})})]})}},24654:()=>{},11151:(e,n,t)=>{"use strict";t.d(n,{Zo:()=>r,ah:()=>o});var s=t(67294);const i=s.createContext({});function o(e){const n=s.useContext(i);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const a={};function r({components:e,children:n,disableParentContext:t}){let r;return r=t?"function"==typeof e?e({}):e||a:o(e),s.createElement(i.Provider,{value:r},n)}}}]);