"use strict";(self.webpackChunklearning_notes=self.webpackChunklearning_notes||[]).push([[6706],{75673:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var i=n(85893),s=n(11151);const a={sidebar_label:"Query Processing",description:"Explore query processing techniques: document-at-a-time and term-at-a-time."},r="Query Processing",o={id:"cab432-search-engine-technology/query-processing",title:"Query Processing",description:"Explore query processing techniques: document-at-a-time and term-at-a-time.",source:"@site/university/cab432-search-engine-technology/057-query-processing.md",sourceDirName:"cab432-search-engine-technology",slug:"/cab432-search-engine-technology/query-processing",permalink:"/university/cab432-search-engine-technology/query-processing",draft:!1,unlisted:!1,editUrl:"https://github.com/xiaohai-huang/learning-notes/tree/master/university/cab432-search-engine-technology/057-query-processing.md",tags:[],version:"current",lastUpdatedBy:"xiaohai-huang",lastUpdatedAt:1654884641,formattedLastUpdatedAt:"10 Jun 2022",sidebarPosition:57,frontMatter:{sidebar_label:"Query Processing",description:"Explore query processing techniques: document-at-a-time and term-at-a-time."},sidebar:"university",previous:{title:"index-construction",permalink:"/university/cab432-search-engine-technology/index-construction"},next:{title:"A Tour of Computer Systems",permalink:"/university/cs24-introduction-to-computer-systems/a-tour-of-computer-systems"}},c={},l=[{value:"Document-at-a-time Query Evaluation",id:"document-at-a-time-query-evaluation",level:2},{value:"Benefit",id:"benefit",level:3},{value:"Term-at-a-time Query Evaluation",id:"term-at-a-time-query-evaluation",level:2},{value:"Disadvantage",id:"disadvantage",level:3},{value:"Optimization Techniques",id:"optimization-techniques",level:2},{value:"List Skipping",id:"list-skipping",level:3},{value:"Conjunctive Processing",id:"conjunctive-processing",level:3},{value:"Threshold Methods",id:"threshold-methods",level:3},{value:"MaxScore",id:"maxscore",level:3},{value:"Early Termination",id:"early-termination",level:3},{value:"List Ordering",id:"list-ordering",level:3},{value:"Structured Queries",id:"structured-queries",level:2}];function d(e){const t=Object.assign({h1:"h1",p:"p",ul:"ul",li:"li",h2:"h2",img:"img",strong:"strong",em:"em",h3:"h3",span:"span",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",annotation:"annotation",ol:"ol"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"query-processing",children:"Query Processing"}),"\n",(0,i.jsx)(t.p,{children:"Once an index is built, we need to process the data in it to produce query results."}),"\n",(0,i.jsx)(t.p,{children:"Two simplest two query processing techniques:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Document-at-a-time"}),"\n",(0,i.jsx)(t.li,{children:"Term-at-a-time"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"document-at-a-time-query-evaluation",children:"Document-at-a-time Query Evaluation"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"document-at-a-time example",src:n(86502).Z+"",width:"1143",height:"488"})}),"\n",(0,i.jsx)(t.p,{children:'Above picture shows document-at-a-time retrieval for the query "salt water tropical".'}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.strong,{children:"inverted lists"})," are shown horizontally, and the postings have been aligned so that each column represents a different document. The ",(0,i.jsx)(t.strong,{children:"inverted lists"})," in this example hold word counts, and the score which is the sum of the word counts in each document."]}),"\n",(0,i.jsxs)(t.p,{children:["The vertical ",(0,i.jsx)(t.em,{children:"gray"})," lines indicate the different steps of retrieval. In this first step, all the counts for the first document are added to produce the score for that document. Once the scoring for the first document has completed, the rest of the documents will then be processed one by one."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"document-at-a-time code",src:n(28234).Z+"",width:"1136",height:"887"})}),"\n",(0,i.jsx)(t.h3,{id:"benefit",children:"Benefit"}),"\n",(0,i.jsxs)(t.p,{children:["The primary benefit of this method is its frugal use of memory.\nThe only major use of memory comes from the priority queue, which only needs to store ",(0,i.jsx)(t.span,{className:"math math-inline",children:(0,i.jsxs)(t.span,{className:"katex",children:[(0,i.jsx)(t.span,{className:"katex-mathml",children:(0,i.jsx)(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(t.semantics,{children:[(0,i.jsx)(t.mrow,{children:(0,i.jsx)(t.mi,{children:"k"})}),(0,i.jsx)(t.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,i.jsx)(t.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(t.span,{className:"base",children:[(0,i.jsx)(t.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(t.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]})})," entries at a time."]}),"\n",(0,i.jsx)(t.h2,{id:"term-at-a-time-query-evaluation",children:"Term-at-a-time Query Evaluation"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"term-at-a-time example",src:n(9080).Z+"",width:"702",height:"713"})}),"\n",(0,i.jsx)(t.p,{children:"The gray lines indicate the boundaries between each step."}),"\n",(0,i.jsx)(t.h3,{id:"disadvantage",children:"Disadvantage"}),"\n",(0,i.jsx)(t.p,{children:"The primary disadvantage of the term-at-a-time algorithm is the memory usage required by the accumulator."}),"\n",(0,i.jsx)(t.h2,{id:"optimization-techniques",children:"Optimization Techniques"}),"\n",(0,i.jsx)(t.p,{children:"Two main classes of optimization for query processing."}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Read less data from the index."}),"\n",(0,i.jsx)(t.li,{children:"Process fewer documents."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"list-skipping",children:"List Skipping"}),"\n",(0,i.jsx)(t.h3,{id:"conjunctive-processing",children:"Conjunctive Processing"}),"\n",(0,i.jsx)(t.h3,{id:"threshold-methods",children:"Threshold Methods"}),"\n",(0,i.jsx)(t.h3,{id:"maxscore",children:"MaxScore"}),"\n",(0,i.jsx)(t.h3,{id:"early-termination",children:"Early Termination"}),"\n",(0,i.jsx)(t.h3,{id:"list-ordering",children:"List Ordering"}),"\n",(0,i.jsx)(t.h2,{id:"structured-queries",children:"Structured Queries"})]})}const h=function(e={}){const{wrapper:t}=Object.assign({},(0,s.ah)(),e.components);return t?(0,i.jsx)(t,Object.assign({},e,{children:(0,i.jsx)(d,e)})):d(e)}},28234:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/document-at-a-time-code-0567e71a31488bd598ca519349d062c8.png"},86502:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/document-at-a-time-a687c2f324436b18c361220b6a35970b.png"},9080:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/term-at-a-time-query-evaluation-5f3c0fd75b072356c5688d5d57afdecc.png"},11151:(e,t,n)=>{n.d(t,{Zo:()=>o,ah:()=>a});var i=n(67294);const s=i.createContext({});function a(e){const t=i.useContext(s);return i.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const r={};function o({components:e,children:t,disableParentContext:n}){let o;return o=n?"function"==typeof e?e({}):e||r:a(e),i.createElement(s.Provider,{value:o},t)}}}]);