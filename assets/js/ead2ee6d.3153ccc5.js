"use strict";(self.webpackChunklearning_notes=self.webpackChunklearning_notes||[]).push([[5014],{43688:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var s=r(85893),i=r(11151);const t={},o="HTTP 2",a={id:"Web/Network/HTTP/version-2",title:"HTTP 2",description:"HTTP/2 can make our applications faster, simpler, and more robust.",source:"@site/docs/Web/Network/HTTP/version-2.md",sourceDirName:"Web/Network/HTTP",slug:"/Web/Network/HTTP/version-2",permalink:"/docs/Web/Network/HTTP/version-2",draft:!1,unlisted:!1,editUrl:"https://github.com/xiaohai-huang/learning-notes/tree/master/docs/Web/Network/HTTP/version-2.md",tags:[],version:"current",lastUpdatedBy:"xiaohai-huang",lastUpdatedAt:1670224705,formattedLastUpdatedAt:"05 Dec 2022",frontMatter:{},sidebar:"notesSidebar",previous:{title:"HTTP 1.1",permalink:"/docs/Web/Network/HTTP/version-1.1"},next:{title:"HTTP 3",permalink:"/docs/Web/Network/HTTP/version-3"}},l={},d=[{value:"Goals",id:"goals",level:2},{value:"Binary Framing Layer",id:"binary-framing-layer",level:2},{value:"\ud83d\udd04 Request and Response Multiplexing",id:"-request-and-response-multiplexing",level:2},{value:"\ud83d\ude91\ufe0f Stream Prioritization",id:"\ufe0f-stream-prioritization",level:2},{value:"\ud83c\udf10 Server Push",id:"-server-push",level:2},{value:"\ud83d\udddc\ufe0f Header Compression",id:"\ufe0f-header-compression",level:2},{value:"References",id:"references",level:2}];function c(e){const n=Object.assign({h1:"h1",blockquote:"blockquote",p:"p",h2:"h2",ul:"ul",li:"li",strong:"strong",admonition:"admonition",a:"a",ol:"ol",img:"img"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"http-2",children:"HTTP 2"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"HTTP/2 can make our applications faster, simpler, and more robust."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"goals",children:"Goals"}),"\n",(0,s.jsx)(n.p,{children:"The primary goals for HTTP/2 are to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud83d\udd04 Reduce latency by enabling full request and response ",(0,s.jsx)(n.strong,{children:"multiplexing"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udddc\ufe0f Minimize protocol overhead via efficient ",(0,s.jsx)(n.strong,{children:"compression of HTTP header fields"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\ude91\ufe0f Request ",(0,s.jsx)(n.strong,{children:"prioritization"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83c\udf10 ",(0,s.jsx)(n.strong,{children:"Server push"})]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"HTTP/2 does not modify the application semantics of HTTP in any way.\nAll the core concepts, such as HTTP methods, status codes, URIs, and header fields, remain in place."}),(0,s.jsxs)(n.p,{children:["\ud83c\udf9e\ufe0f Instead, HTTP/2 modifies how the data is formatted and transported between the client and server. New ",(0,s.jsx)(n.strong,{children:"Binary Framing Layer"})]})]}),"\n",(0,s.jsx)(n.h2,{id:"binary-framing-layer",children:"Binary Framing Layer"}),"\n",(0,s.jsx)(n.h2,{id:"-request-and-response-multiplexing",children:"\ud83d\udd04 Request and Response Multiplexing"}),"\n",(0,s.jsxs)(n.p,{children:["With HTTP/1.1, if the client wants to make multiple parallel requests to improve performance, then ",(0,s.jsx)(n.strong,{children:"multiple TCP connections"})," must be used. This workaround was applied because of the HTTP/1.1 delivery model \ud83d\ude9a, which ensures that only one response can be delivered at a time (",(0,s.jsx)(n.a,{href:"/docs/Web/Network/HTTP/version-1.1",children:"response queuing"})," [\ud83d\udeb6\ud83d\udeb6\ud83d\udeb6\ud83d\udeb6]) per connection. This delivery model also results in \ud83d\udea7 ",(0,s.jsx)(n.a,{href:"/docs/Web/Network/HTTP/version-1.1",children:(0,s.jsx)(n.strong,{children:"head-of-line blocking"})})," and ",(0,s.jsx)(n.strong,{children:"inefficient"})," use of the underlying TCP connection (cuz ",(0,s.jsx)(n.strong,{children:"multiple"})," connections are used)."]}),"\n",(0,s.jsxs)(n.p,{children:["\ud83c\udf9e\ufe0f The ",(0,s.jsx)(n.strong,{children:"new binary framing layer"})," in HTTP/2 removes these limitations \ud83d\udca9, and enables full request and response multiplexing, by allowing the client and server to:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2702\ufe0f break down an HTTP ",(0,s.jsx)(n.a,{href:"#binary-framing-layer",children:"message"})," into independent frames"]}),"\n",(0,s.jsx)(n.li,{children:"interleave them"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\uddc3\ufe0f reassemble them on the other end"}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://hpbn.co/assets/diagrams/47ba5b32e42cf5a06c3741d29ef9b94a.svg",alt:"request and response multiplexing"})}),(0,s.jsxs)(n.p,{children:["The above image captures multiple ",(0,s.jsx)(n.a,{href:"#binary-framing-layer",children:(0,s.jsx)(n.strong,{children:"streams"})})," within the same connection:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The client is transmitting a ",(0,s.jsx)(n.strong,{children:"DATA"})," frame to the server"]}),"\n",(0,s.jsx)(n.li,{children:"The server is transmitting an interleaved sequence of frames to the client."}),"\n"]})]}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-stream-prioritization",children:"\ud83d\ude91\ufe0f Stream Prioritization"}),"\n",(0,s.jsx)(n.h2,{id:"-server-push",children:"\ud83c\udf10 Server Push"}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-header-compression",children:"\ud83d\udddc\ufe0f Header Compression"}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://hpbn.co/http2/",children:"HTTP 2 | High Performance Browser Networking"})}),"\n"]})]})}const h=function(e={}){const{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(c,e)})):c(e)}},11151:(e,n,r)=>{r.d(n,{Zo:()=>a,ah:()=>t});var s=r(67294);const i=s.createContext({});function t(e){const n=s.useContext(i);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const o={};function a({components:e,children:n,disableParentContext:r}){let a;return a=r?"function"==typeof e?e({}):e||o:t(e),s.createElement(i.Provider,{value:a},n)}}}]);